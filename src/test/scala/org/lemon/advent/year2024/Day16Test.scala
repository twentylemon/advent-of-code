package org.lemon.advent.year2024

import org.lemon.advent._
import org.lemon.advent.year2024.Day16._

class Day16Test extends UnitTest:

  test("part 1 example 1") {
    val in = """|###############
                |#.......#....E#
                |#.#.###.#.###.#
                |#.....#.#...#.#
                |#.###.#####.#.#
                |#.#.#.......#.#
                |#.#.#####.###.#
                |#...........#.#
                |###.#.#####.#.#
                |#...#.....#.#.#
                |#.#.#.###.#.#.#
                |#.....#...#.#.#
                |#.###.#.#.#.#.#
                |#S..#.....#...#
                |###############""".stripMargin
    part1(in) shouldBe 7036
  }

  test("part 1 example 2") {
    val in = """|#################
                |#...#...#...#..E#
                |#.#.#.#.#.#.#.#.#
                |#.#.#.#...#...#.#
                |#.#.#.#.###.#.#.#
                |#...#.#.#.....#.#
                |#.#.#.#.#.#####.#
                |#.#...#.#.#.....#
                |#.#.#####.#.###.#
                |#.#.#.......#...#
                |#.#.###.#####.###
                |#.#.#...#.....#.#
                |#.#.#.#####.###.#
                |#.#.#.........#.#
                |#.#.#.#########.#
                |#S#.............#
                |#################""".stripMargin
    part1(in) shouldBe 11048
  }

  test("part 1") {
    part1(read(file(2024)(16))) shouldBe 102488
  }

  test("part 2 example 1") {
    val in = """|###############
                |#.......#....E#
                |#.#.###.#.###.#
                |#.....#.#...#.#
                |#.###.#####.#.#
                |#.#.#.......#.#
                |#.#.#####.###.#
                |#...........#.#
                |###.#.#####.#.#
                |#...#.....#.#.#
                |#.#.#.###.#.#.#
                |#.....#...#.#.#
                |#.###.#.#.#.#.#
                |#S..#.....#...#
                |###############""".stripMargin
    part2(in) shouldBe 45
  }

  test("part 2 example 2") {
    val in = """|#################
                |#...#...#...#..E#
                |#.#.#.#.#.#.#.#.#
                |#.#.#.#...#...#.#
                |#.#.#.#.###.#.#.#
                |#...#.#.#.....#.#
                |#.#.#.#.#.#####.#
                |#.#...#.#.#.....#
                |#.#.#####.#.###.#
                |#.#.#.......#...#
                |#.#.###.#####.###
                |#.#.#...#.....#.#
                |#.#.#.#####.###.#
                |#.#.#.........#.#
                |#.#.#.#########.#
                |#S#.............#
                |#################""".stripMargin
    part2(in) shouldBe 64
  }

  test("part 2") {
    part2(read(file(2024)(16))) shouldBe 559
  }
